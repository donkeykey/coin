<!doctype html>

<html>
  <head>
    <title>Auto-adjust</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <style>
      body {
        text-align: center;
      }

      #g1 {
        width:400px; height:320px;
        display: inline-block;
        margin: 1em;
      }

      p {
        display: block;
        width: 450px;
        margin: 2em auto;
        text-align: left;
      }
    </style>


  </head>
  <body>
    <div id="g1"></div>
    <script src="../raphael-2.1.4.min.js"></script>
    <script src="../justgage-1.1.0.min.js"></script>
    <script>
      var g1;

      window.onload = function(){
        var g1 = new JustGage({
          id: "g1",
          value: getRandomInt(0, 10000),
          min: 0,
          max: 10000,
          title: "残金",
          label: "円"
        });

        setInterval(function() {
          $.ajax({
            type: "GET",
            url: "./get.php",
            success: function(msg){
              console.log(msg);
              g1.refresh(getRandomInt(0, 10000));
            }
          });
        }, 2500);
      };
    </script>
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
  </body>
</html>
